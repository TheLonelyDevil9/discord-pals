{% extends "base.html" %}
{% block title %}Characters - Discord Pals{% endblock %}

{% block content %}
<h1 style="margin-bottom: 30px;">Characters</h1>

{% if characters %}
<div class="grid">
    {% for name, data in characters.items() %}
    <div class="card">
        <h3 class="card-title">ðŸŽ­ {{ name }}</h3>

        {% if data.error %}
        <div class="empty">Error: {{ data.error }}</div>
        {% else %}
        <p style="color: var(--text-muted); font-size: 0.9em; margin-bottom: 15px;">
            {{ data.size }} characters
        </p>
        <pre style="font-size: 0.8em; max-height: 200px;">{{ data.preview }}</pre>
        <div style="margin-top: 15px;">
            <a href="/characters/{{ name }}/edit" class="btn btn-primary">Edit</a>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>

<div class="card" style="margin-top: 20px;">
    <h3 class="card-title">âž• New Character</h3>
    <form action="/characters/new" method="post">
        <input type="text" name="name" placeholder="Character name" required
            style="width: 200px; padding: 8px; margin-right: 10px; background: var(--bg-tertiary); border: 1px solid var(--border); color: var(--text); border-radius: 4px;">
        <button type="submit" class="btn btn-primary">Create</button>
    </form>
</div>
{% else %}
<div class="card">
    <div class="empty">No character files found in <code>characters/</code></div>
</div>
{% endif %}
{% endblock %}